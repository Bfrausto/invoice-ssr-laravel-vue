# ADR-001: Elección del Stack Tecnológico

**Fecha:** 2025-08-22
**Estado:** Aceptado

## Contexto

La prueba técnica requiere la construcción de una aplicación full-stack con un fuerte énfasis en PHP. Los requisitos clave incluyen:
* **Renderizado del Lado del Servidor (SSR)** para la carga inicial.
* Altas métricas de **performance y Web Vitals** (Lighthouse ≥ 90).
* Un backend robusto con una **API REST**.
* Un frontend interactivo para la gestión de un formulario complejo.
* Un entorno de desarrollo reproducible, preferiblemente con **Docker**.

Se plantearon dos arquitecturas principales:
1.  **Arquitectura Separada (Headless):** Un backend de API REST puro (ej. Laravel) y un frontend separado en un framework de JavaScript (ej. Next.js, Nuxt.js).
2.  **Monolito Moderno:** Un único framework de backend (ej. Laravel) que también se encarga de renderizar el frontend de JavaScript, utilizando una herramienta como Inertia.js para mantener la sensación de una SPA.

## Decisión

Se ha decidido adoptar la arquitectura de **Monolito Moderno** utilizando el siguiente stack:
* **Backend:** **Laravel 11 (PHP)**
* **Frontend:** **Vue.js 3**
* **Conector (Routing y SSR):** **Inertia.js**
* **Entorno de Desarrollo:** **Laravel Sail (Docker)**

### Justificación

Esta elección se basa en los siguientes puntos clave:
1.  **Productividad y Familiaridad:** Dado que el rol tiene un énfasis en PHP y el stack ya es familiar, este enfoque permite centrarse en la lógica de negocio y la calidad del código en lugar de en la configuración de dos proyectos separados, lo cual es crítico dado el plazo de la prueba.
2.  **SSR Simplificado:** Laravel con Inertia.js proporciona una solución de SSR muy potente y bien integrada. El renderizado inicial de los componentes de Vue se gestiona directamente desde los controladores de Laravel, cumpliendo el requisito de SSR de forma nativa y eficiente.
3.  **Rendimiento Optimizado:** Inertia.js es extremadamente ligero. Después de la carga inicial (que es un HTML renderizado en el servidor), las navegaciones posteriores solo intercambian JSON, evitando recargas de página completas y manteniendo una experiencia de usuario rápida, lo que favorece el cumplimiento de las métricas de Web Vitals.
4.  **Entorno Unificado:** Trabajar en un solo repositorio y con un único sistema de construcción (Vite, ya integrado) simplifica el desarrollo, las pruebas y el eventual despliegue. Laravel Sail resuelve el requisito de Docker de forma inmediata.

## Consecuencias

### Positivas
* **Desarrollo Acelerado:** Un único framework y un solo lenguaje principal (PHP) para la lógica de negocio y el renderizado de vistas.
* **Mantenimiento Sencillo:** Menos complejidad al tener una sola base de código que gestionar.
* **Cumplimiento Directo de Requisitos:** El stack está diseñado para cumplir de forma nativa con los requisitos de SSR y una alta performance en la carga inicial.
* **Autenticación Integrada:** Se aprovecha el sistema de sesiones de Laravel de forma segura y directa tanto para las vistas web como para las llamadas de la "API" interna.

### Negativas
* **Acoplamiento Fuerte:** El frontend y el backend están más acoplados que en una arquitectura headless. Esto es aceptable y, de hecho, una ventaja para un proyecto de esta escala manejado por un solo desarrollador. Para equipos muy grandes y separados, podría ser una desventurada.
* **Menor Flexibilidad de Frontend:** Cambiar el framework de frontend (ej. de Vue a React) sería más complejo que en una arquitectura headless. No es una preocupación para el alcance de esta prueba.
